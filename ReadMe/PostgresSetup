https://www.codementor.io/@engineerapart/getting-started-with-postgresql-on-mac-osx-are8jcopb
a) mac
1. setup brew
2. setup postgres -> brew install postgresql
   Note. it automatically creates the user postgres
3. psql postgres -> command that prompts to psql command line
4. CREATE ROLE username WITH LOGIN PASSWORD 'quoted password' -> creates user with password
5. CREATE DATABASE databasename;
6. ALTER DATABASE database_name OWNER TO ubuntu; -> sets new owner of the database

Other psql commands
1. brew services start psql
2. brew services restart psql
3. brew services stop psql

Edit pg_hba.conf
auth-methods : md5, trust etc
    1. md5  : asks for password for authentication before connection.
    2. trust: allow connection without need of password

ip_addr , netmask :
    1. The ip_addr and netmask fields specify either a specific IP address, or range of IP addresses, that are allowed to connect to the PostgreSQL serve

Database configuration in database.yml file
1. pool: maximum number of connections the pool may manage (default 5).
2. idle_timeout: number of seconds that a connection will be kept unused in the pool before it is automatically disconnected (default 300 seconds). Set this to zero to keep connections forever.
3. heckout_timeout: number of seconds to wait for a connection to become available before giving up and raising a timeout error (default 5 seconds).

More on pool
https://www.ashnik.com/everything-you-need-to-know-about-connection-pooling-in-postgres/

>> pg database dump and restore
#dumping
pg_dump -U db_user -W -F t db_name > /path/to/your/file/dump_name.tar
db_user : database owner 
-W: prompt for password
-F : specify the dump file extension or dump file type
-t : dump file will be tar file
db_name: name of database to dump

#restoring
pg_restore -d db_name /path/to/your/file/dump_name.tar -c -U db_user
-c to drop database objects before recreating them
-C to create a database before restoring into it
-e exit if an error has encountered
-F format to specify the format of the archive

